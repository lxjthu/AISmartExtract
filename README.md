
# Obsidian AI Smart Extract Plugin

## 简介

AI Smart Extract 是一个 Obsidian 插件,它可以帮助你快速从选中的文本中提取关键信息,并自动创建一个新的笔记。该插件使用阿里云通义千问 API 来分析文本,提取关键词、生成摘要和标签,让你的笔记整理工作更加高效。

## 主要功能

1. **智能文本分析**
   - 自动提取 3-5 个关键词
   - 生成简短的文本摘要(15字以内)
   - 自动生成相关标签

2. **自动创建笔记**
   - 使用摘要作为新笔记标题
   - 自动添加 YAML frontmatter
   - 包含原文内容、关键词和标签

3. **智能链接管理**
   - 支持多种链接样式(Wiki链接或引用链接)
   - 自动在原文中添加反向链接
   - 可选择是否添加"相关笔记"区域

4. **自定义选项**
   - 可自定义 AI 提示词模板
   - 灵活的文件夹管理
   - 可配置的引用样式

## 安装步骤

1. 下载obsidian-task-board-1.0.0.zip安装包，解压缩
2. 安装Obsidian软件
3. 打开 Obsidian 设置
4. 进入 "第三方插件"
5. 关闭 "安全模式"
6. 点击“已安装插件”边上的文件夹图标，进入.obsidian\plugins文件夹
7. 将解压缩后的obsidian-task-board-1.0.1文件夹粘贴进去
8. 点击“重新加载插件”按钮，设置插件具体配置

## 配置说明

### 1. API 配置

首次使用需要配置阿里云通义千问 API:

1. 打开插件设置
2. 在 "API Key" 中填入你的阿里云通义千问 API Key
3. API Endpoint 默认为 `https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation`

### 2. 基础设置

#### 文件夹设置
- 进入插件设置
- 在 "目标文件夹" 设置中选择新笔记保存的位置
- 可以通过 "选择文件夹" 按钮浏览并选择目标文件夹

#### 链接设置
- **添加反向链接**: 开启/关闭自动添加反向链接功能
- **链接样式**: 选择 Wiki 链接([[]])或引用链接(^[[]])
- **引用标注类型**: 设置引用块的标注类型(默认为 'cite')
- **可折叠引用**: 设置引用块是否可折叠
- **添加相关笔记区域**: 选择是否在原文末尾添加相关笔记区域

### 3. AI 提示词设置

你可以自定义 AI 分析文本时使用的提示词模板:
- 使用 `{text}` 作为原文本的占位符
- 可以随时点击 "重置" 按钮恢复默认提示词

## 使用方法

1. **创建智能笔记**
   - 在编辑器中选择要分析的文本
   - 使用快捷键或ctrl+P调出命令面板，搜索AI执行 "AI Smart Extract：从选中文本创建智能笔记" 命令
   - 插件会自动分析文本并创建新笔记

2. **查看结果**
   - 新笔记会自动打开
   - 包含原文、关键词和标签
   - 原文中会添加指向新笔记的链接

## 笔记格式说明

新创建的笔记将包含以下内容:

```markdown
---
title: 自动生成的摘要
keywords: 关键词1, 关键词2, 关键词3
tags:
  - 标签1
  - 标签2
  - 标签3
created: 创建时间
source: 原文件名
---

source: [[原文件名]]

[原文内容]

## 关键词
- 关键词1
- 关键词2
- 关键词3

## 标签
#标签1 #标签2 #标签3
```

## 常见问题

1. **API Key 无效**
   - 确保已正确配置阿里云通义千问 API Key
   - 检查 API Key 是否有效且未过期

2. **新笔记未创建**
   - 确保已选择文本
   - 检查目标文件夹权限
   - 查看控制台错误信息

3. **反向链接未添加**
   - 确认已开启反向链接功能
   - 检查链接样式设置

## 技术支持

如果你遇到任何问题或有建议:
1. 访问 GitHub 仓库提交 Issue
2. 查看插件文档获取更多信息
3. 在 Obsidian 论坛寻求帮助

## 注意事项

- 使用前请确保有稳定的网络连接
- 建议定期备份重要笔记
- API 调用可能产生费用,请关注使用量

## 更新日志

### v1.0.0
- 初始版本发布
- 支持基本的文本分析和笔记创建功能
- 提供可自定义的设置选项

## 许可证

[MIT License](LICENSE)